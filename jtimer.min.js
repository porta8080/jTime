function Time(t){this.t=t?new Date(t):new Date,this.jump=0,this.timer=null}Time.prototype.toMilliseconds=function(t){return t||(t=1),t},Time.prototype.toSeconds=function(t){return t||(t=1),this.toMilliseconds()*t*1e3},Time.prototype.toMinutes=function(t){return t||(t=1),this.toSeconds()*t*60},Time.prototype.toHours=function(t){return t||(t=1),this.toMinutes()*t*60},Time.prototype.toDays=function(t){return t||(t=1),this.toHours()*t*24},Time.prototype.toWeeks=function(t){return t||(t=1),this.toDays()*t*7},Time.prototype.toMonths=function(t){return t||(t=1),this.toDays()*t*30},Time.prototype.toYears=function(t){return t||(t=1),this.toDays()*t*365},Time.prototype.millisecond=Time.prototype.milliseconds=function(t){return this.jump=this.toMilliseconds(t),this},Time.prototype.second=Time.prototype.seconds=function(t){return this.jump=this.toSeconds(t),this},Time.prototype.minute=Time.prototype.minutes=function(t){return this.jump=this.toMinutes(t),this},Time.prototype.hour=Time.prototype.hours=function(t){return this.jump=this.toHours(t),this},Time.prototype.day=Time.prototype.days=function(t){return this.jump=this.toDays(t),this},Time.prototype.week=Time.prototype.weeks=function(t){return this.jump=this.toWeeks(t),this},Time.prototype.month=Time.prototype.months=function(t){return this.jump=this.toMonths(t),this},Time.prototype.year=Time.prototype.years=function(t){return this.jump=this.toYears(t),this},Time.prototype.add=function(t){var e=t.split(" ");return this[e[1]](e[0]).after(),this},Time.prototype.subtract=function(t){var e=t.split(" ");return this[e[1]](e[0]).before(),this},Time.prototype.before=function(){return this.t=new Date(this.t.getTime()-this.jump),this},Time.prototype.after=function(){return this.t=new Date(this.t.getTime()+this.jump),this},Time.prototype.today=function(){var t=new Date;return this.t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0),this},Time.prototype.yesterday=function(){return this.t=new Date((new Date).getTime()-this.toDays(1)),this},Time.prototype.tomorrow=function(){return this.t=new Date((new Date).getTime()+this.toDays(1)),this},Time.prototype.now=function(){return this.t=new Date,this},Time.prototype.ago=function(){return this.t=new Date((new Date).getTime()-this.jump),this},Time.prototype.fromNow=function(){return this.t=new Date((new Date).getTime()+this.jump),this},Time.prototype.lastDayOfMonth=function(){return this.t=new Date(this.t.getFullYear(),this.t.getMonth()+1,0),this},Time.prototype.daysInMonth=function(){return new Date(this.t.getFullYear(),this.t.getMonth()+1,0).getDate()},Time.prototype.get=function(){return this.t.getTime()},Time.prototype.format=function(t){var e,o="",n=function(t){return t=t.toString(),1==t.length?"0"+t:t};for(i=0,l=t.length;l>i;i++)switch(e=t.charAt(i)){case"y":o+=this.t.getFullYear().toString().slice(2);break;case"Y":o+=this.t.getFullYear().toString();break;case"m":o+=n(this.t.getMonth()+1);break;case"d":o+=n(this.t.getDate());break;case"h":o+=n(this.t.getHours());break;case"i":o+=n(this.t.getMinutes());break;case"s":o+=n(this.t.getSeconds());break;case"w":o+=(this.t.getDay()+1).toString();break;default:o+=e}return o},Time.prototype.interval=function(t,e,i){var o=function(t,e,i){this.timer=setTimeout(function(){var n=e(i);n&&(i=n),o(t,e,i)},t)};o(t,e,i)},Time.prototype.stop=function(){clearTimeout(this.timer)};
